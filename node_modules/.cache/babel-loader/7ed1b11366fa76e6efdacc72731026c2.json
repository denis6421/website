{"ast":null,"code":"import _defineProperty from\"/Users/denis/Desktop/projects/new-portolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/denis/Desktop/projects/new-portolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/new-portolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/new-portolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/new-portolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/new-portolio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{withRouter}from\"react-router\";import{text}from\"../../text/text\";import BackImg from\"../../images/back-arrow.svg\";import{inputs}from\"./parts/inputs\";import TextInput from\"./parts/TextInput\";import Button from\"@material-ui/core/Button\";import{API}from\"../../tools/keys\";import axios from'axios';import ContactSuccess from\"./parts/ContactSuccess\";import SmallLoader from\"../../parts/SmallLoader\";var Contact=/*#__PURE__*/function(_Component){_inherits(Contact,_Component);function Contact(){var _this;_classCallCheck(this,Contact);_this=_possibleConstructorReturn(this,_getPrototypeOf(Contact).call(this));_this.goBack=function(){_this.props.history.goBack();};_this.updateState=function(name,value){_this.setState(_defineProperty({},name,value));};_this.nextStep=function(){var step=_this.state.step;_this.setState({validate:true});setTimeout(function(){_this.setState({validate:false});var errors=document.querySelectorAll(\".contact__input__error\");if(errors.length===0){if(step==inputs.length-1){_this.submitForm();}else{_this.setState({step:step+1});}}},50);};_this.submitForm=function(){var _this$state=_this.state,name=_this$state.name,email=_this$state.email,message=_this$state.message;var body={name:name,email:email,message:message};_this.setState({loading:true});axios.post(\"\".concat(API,\"/portfolio/contact\"),body).then(function(res){var result=res.data.result;_this.setState({success:result.name,loading:false});}).catch(function(err){_this.setState({error:\"Error, sorry, please try again...\",loading:false});});};_this.state={step:0};return _this;}_createClass(Contact,[{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,step=_this$state2.step,validate=_this$state2.validate,success=_this$state2.success,loading=_this$state2.loading;return React.createElement(\"div\",{className:\"contact\"},success?React.createElement(ContactSuccess,{username:success}):'',React.createElement(\"form\",{style:{filter:success?'blur(4px)':''},className:\"contact__form\"},React.createElement(\"button\",{className:\"go__back\",onClick:function onClick(){return _this2.goBack();},type:\"button\"},React.createElement(\"img\",{src:BackImg,alt:\"\"}),text.GO_BACK),React.createElement(\"h2\",null,text.GET_IN_TOUCH),React.createElement(\"p\",null,\"\".concat(text.CONTACT_P,\" \"),React.createElement(\"a\",{href:\"mailto:denis.b651@gmail.com\"},\"denis.b651@gmail.com\")),inputs.map(function(input,i){if(i<=step){return React.createElement(TextInput,{key:i,placeholder:text[input.placeholder],value:_this2.state[input.property_name],property_name:input.property_name,updateParent:_this2.updateState,validation_text:text[input.validation_text],required_error:text.REQUIRED,img:input.img,validation_type:input.validation_type,validate:validate});}}),React.createElement(\"div\",{className:\"contact__submit__btns\"},!loading?step<2?React.createElement(Button,{type:\"button\",className:\"main__btn\",onClick:function onClick(){return _this2.nextStep();},variant:\"contained\",color:\"primary\"},text.NEXT):React.createElement(Button,{onClick:function onClick(){return _this2.nextStep();},className:\"main__btn\",type:\"button\",variant:\"contained\",color:\"primary\"},text.SUBMIT):React.createElement(SmallLoader,null))));}}]);return Contact;}(Component);export default withRouter(Contact);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/new-portolio/client/src/components/contact/Contact.jsx"],"names":["React","Component","withRouter","text","inputs","TextInput","Button","API","axios","ContactSuccess","SmallLoader","Contact","goBack","props","history","updateState","name","value","setState","nextStep","step","state","validate","setTimeout","errors","document","querySelectorAll","length","submitForm","email","message","body","loading","post","then","res","result","data","success","catch","err","error","filter","BackImg","GO_BACK","GET_IN_TOUCH","CONTACT_P","map","input","i","placeholder","property_name","validation_text","REQUIRED","img","validation_type","NEXT","SUBMIT"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport { text } from \"../../text/text\";\nimport BackImg from \"../../images/back-arrow.svg\";\nimport { inputs } from \"./parts/inputs\";\nimport TextInput from \"./parts/TextInput\";\nimport Button from \"@material-ui/core/Button\";\nimport { API } from \"../../tools/keys\";\nimport axios from 'axios'\nimport ContactSuccess from \"./parts/ContactSuccess\";\nimport SmallLoader from \"../../parts/SmallLoader\";\n\nclass Contact extends Component {\n  constructor() {\n    super();\n    this.state = {\n      step: 0,\n    };\n  }\n\n  goBack = () => {\n    this.props.history.goBack();\n  };\n\n  updateState = (name, value) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  nextStep = () => {\n    const { step } = this.state;\n    this.setState({\n      validate: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        validate: false,\n      });\n      const errors = document.querySelectorAll(\".contact__input__error\");\n      if (errors.length === 0) {\n        if (step == inputs.length - 1) {\n          this.submitForm();\n        } else {\n          this.setState({\n            step: step + 1,\n          });\n        }\n      }\n    }, 50);\n  };\n\n  submitForm = () => {\n    const { name, email, message } = this.state;\n   \n      let body = {\n        name,\n        email,\n        message,\n      };\n      this.setState({\n        loading: true,\n      });\n      axios\n        .post(`${API}/portfolio/contact`, body)\n        .then((res) => {\n          const { result } = res.data;\n          this.setState({\n            success: result.name,\n            loading: false,\n          });\n        })\n        .catch((err) => {\n          this.setState({\n            error: `Error, sorry, please try again...`,\n            loading: false,\n          });\n        });\n    \n  };\n \n  render() {\n    const { step, validate, success, loading } = this.state;\n    return (\n    <div className='contact'>\n         {success ? <ContactSuccess\n          username = {success}\n          />  :''}\n          <form \n          style ={{\n              filter:success  ?'blur(4px)' : ''\n          }}\n          className=\"contact__form\">\n         \n        <button\n          className=\"go__back\"\n          onClick={() => this.goBack()}\n          type=\"button\"\n        >\n          <img src={BackImg} alt=\"\" />\n          {text.GO_BACK}\n        </button>\n        <h2>{text.GET_IN_TOUCH}</h2>\n        <p>\n          {`${text.CONTACT_P} `}\n          <a href=\"mailto:denis.b651@gmail.com\">denis.b651@gmail.com</a>\n        </p>\n        {inputs.map((input, i) => {\n          if (i <= step) {\n            return (\n              <TextInput\n                key={i}\n                placeholder={text[input.placeholder]}\n                value={this.state[input.property_name]}\n                property_name={input.property_name}\n                updateParent={this.updateState}\n                validation_text={text[input.validation_text]}\n                required_error={text.REQUIRED}\n                img={input.img}\n                validation_type={input.validation_type}\n                validate={validate}\n              />\n            );\n          }\n        })}\n        <div className=\"contact__submit__btns\">\n          {\n          !loading ? \n          step < 2 ? (\n            <Button\n              type=\"button\"\n              className=\"main__btn\"\n              onClick={() => this.nextStep()}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              {text.NEXT}\n            </Button>\n          ) : (\n            <Button\n              onClick={() => this.nextStep()}\n              className=\"main__btn\"\n              type=\"button\"\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              {text.SUBMIT}\n            </Button>\n          ) : <SmallLoader />}\n        </div>\n      </form>\n    </div>\n    );\n  }\n}\n\nexport default withRouter(Contact);\n"]},"metadata":{},"sourceType":"module"}