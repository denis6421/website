{"ast":null,"code":"var _jsxFileName = \"/Users/denis/Desktop/projects/new-portolio/src/components/contact/Contact.jsx\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport { text } from \"../../text/text\";\nimport BackImg from \"../../images/back-arrow.svg\";\nimport { inputs } from \"./parts/inputs\";\nimport TextInput from \"./parts/TextInput\";\nimport Button from \"@material-ui/core/Button\";\nimport { API } from \"../../tools/keys\";\nimport axios from 'axios';\nimport ContactSuccess from \"./parts/ContactSuccess\";\n\nclass Contact extends Component {\n  constructor() {\n    super();\n\n    this.goBack = () => {};\n\n    this.updateState = (name, value) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.nextStep = () => {\n      const step = this.state.step;\n      this.setState({\n        validate: true\n      });\n      setTimeout(() => {\n        this.setState({\n          validate: false\n        });\n        const errors = document.querySelectorAll(\".contact__input__error\");\n\n        if (errors.length === 0) {\n          if (step == inputs.length - 1) {\n            this.submitForm();\n          } else {\n            this.setState({\n              step: step + 1\n            });\n          }\n        }\n      }, 50);\n    };\n\n    this.submitForm = () => {\n      const _this$state = this.state,\n            name = _this$state.name,\n            email = _this$state.email,\n            message = _this$state.message;\n      let body = {\n        name,\n        email,\n        message\n      };\n      this.setState({\n        loading: true\n      });\n      axios.post(\"\".concat(API, \"/portfolio/contact\"), body).then(res => {\n        const result = res.data.result;\n        this.setState({\n          success: result.name,\n          loading: false\n        });\n      }).catch(err => {\n        this.setState({\n          error: \"Error, sorry, please try again...\",\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      step: 0,\n      success: 'Denis'\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          step = _this$state2.step,\n          validate = _this$state2.validate,\n          success = _this$state2.success;\n    return React.createElement(\"div\", {\n      className: \"contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"contact__form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, success ? React.createElement(ContactSuccess, {\n      username: success,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }) : '', React.createElement(\"button\", {\n      className: \"go__back\",\n      onClick: () => this.goBack(),\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: BackImg,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), text.GO_BACK), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, text.GET_IN_TOUCH), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"\".concat(text.CONTACT_P, \" \"), React.createElement(\"a\", {\n      href: \"mailto:denis.b651@gmail.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"denis.b651@gmail.com\")), inputs.map((input, i) => {\n      if (i <= step) {\n        return React.createElement(TextInput, {\n          key: i,\n          placeholder: text[input.placeholder],\n          value: this.state[input.property_name],\n          property_name: input.property_name,\n          updateParent: this.updateState,\n          validation_text: text[input.validation_text],\n          required_error: text.REQUIRED,\n          img: input.img,\n          validation_type: input.validation_type,\n          validate: validate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        });\n      }\n    }), React.createElement(\"div\", {\n      className: \"contact__submit__btns\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, step < 2 ? React.createElement(Button, {\n      type: \"button\",\n      className: \"form__btn\",\n      onClick: () => this.nextStep(),\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, text.NEXT) : React.createElement(Button, {\n      onClick: () => this.nextStep(),\n      className: \"form__btn\",\n      type: \"button\",\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, text.SUBMIT))));\n  }\n\n}\n\nexport default withRouter(Contact);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/new-portolio/src/components/contact/Contact.jsx"],"names":["React","Component","withRouter","text","inputs","TextInput","Button","API","axios","ContactSuccess","Contact","constructor","goBack","updateState","name","value","setState","nextStep","step","state","validate","setTimeout","errors","document","querySelectorAll","length","submitForm","email","message","body","loading","post","then","res","result","data","success","catch","err","error","render","BackImg","GO_BACK","GET_IN_TOUCH","CONTACT_P","map","input","i","placeholder","property_name","validation_text","REQUIRED","img","validation_type","NEXT","SUBMIT"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,IAAT,QAAqB,iBAArB;;AAEA,SAASC,MAAT,QAAuB,gBAAvB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,GAAT,QAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,wBAA3B;;AAEA,MAAMC,OAAN,SAAsBT,SAAtB,CAAgC;AAC9BU,EAAAA,WAAW,GAAG;AACZ;;AADY,SAQdC,MARc,GAQL,MAAM,CAAE,CARH;;AAAA,SAUdC,WAVc,GAUA,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC7B,WAAKC,QAAL,CAAc;AACZ,SAACF,IAAD,GAAQC;AADI,OAAd;AAGD,KAda;;AAAA,SAgBdE,QAhBc,GAgBH,MAAM;AAAA,YACPC,IADO,GACE,KAAKC,KADP,CACPD,IADO;AAEf,WAAKF,QAAL,CAAc;AACZI,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGAC,MAAAA,UAAU,CAAC,MAAM;AACf,aAAKL,QAAL,CAAc;AACZI,UAAAA,QAAQ,EAAE;AADE,SAAd;AAGA,cAAME,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,wBAA1B,CAAf;;AACA,YAAIF,MAAM,CAACG,MAAP,KAAkB,CAAtB,EAAyB;AACvB,cAAIP,IAAI,IAAId,MAAM,CAACqB,MAAP,GAAgB,CAA5B,EAA+B;AAC7B,iBAAKC,UAAL;AACD,WAFD,MAEO;AACL,iBAAKV,QAAL,CAAc;AACZE,cAAAA,IAAI,EAAEA,IAAI,GAAG;AADD,aAAd;AAGD;AACF;AACF,OAdS,EAcP,EAdO,CAAV;AAeD,KApCa;;AAAA,SAsCdQ,UAtCc,GAsCD,MAAM;AAAA,0BACgB,KAAKP,KADrB;AAAA,YACTL,IADS,eACTA,IADS;AAAA,YACHa,KADG,eACHA,KADG;AAAA,YACIC,OADJ,eACIA,OADJ;AAGf,UAAIC,IAAI,GAAG;AACTf,QAAAA,IADS;AAETa,QAAAA,KAFS;AAGTC,QAAAA;AAHS,OAAX;AAKA,WAAKZ,QAAL,CAAc;AACZc,QAAAA,OAAO,EAAE;AADG,OAAd;AAGAtB,MAAAA,KAAK,CACFuB,IADH,WACWxB,GADX,yBACoCsB,IADpC,EAEGG,IAFH,CAESC,GAAD,IAAS;AAAA,cACLC,MADK,GACMD,GAAG,CAACE,IADV,CACLD,MADK;AAEb,aAAKlB,QAAL,CAAc;AACZoB,UAAAA,OAAO,EAAEF,MAAM,CAACpB,IADJ;AAEZgB,UAAAA,OAAO,EAAE;AAFG,SAAd;AAID,OARH,EASGO,KATH,CASUC,GAAD,IAAS;AACd,aAAKtB,QAAL,CAAc;AACZuB,UAAAA,KAAK,qCADO;AAEZT,UAAAA,OAAO,EAAE;AAFG,SAAd;AAID,OAdH;AAgBH,KAjEa;;AAEZ,SAAKX,KAAL,GAAa;AACXD,MAAAA,IAAI,EAAE,CADK;AAEXkB,MAAAA,OAAO,EAAC;AAFG,KAAb;AAID;;AA6DDI,EAAAA,MAAM,GAAG;AAAA,yBAC6B,KAAKrB,KADlC;AAAA,UACCD,IADD,gBACCA,IADD;AAAA,UACOE,QADP,gBACOA,QADP;AAAA,UACiBgB,OADjB,gBACiBA,OADjB;AAEP,WACA;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAM,MAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCA,OAAO,GAAG,oBAAC,cAAD;AACX,MAAA,QAAQ,EAAIA,OADD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAEH,EAHL,EAIF;AACE,MAAA,SAAS,EAAC,UADZ;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKxB,MAAL,EAFjB;AAGE,MAAA,IAAI,EAAC,QAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAK,MAAA,GAAG,EAAE6B,OAAV;AAAmB,MAAA,GAAG,EAAC,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAMGtC,IAAI,CAACuC,OANR,CAJE,EAYF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKvC,IAAI,CAACwC,YAAV,CAZE,EAaF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACMxC,IAAI,CAACyC,SADX,QAEE;AAAG,MAAA,IAAI,EAAC,6BAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF,CAbE,EAiBDxC,MAAM,CAACyC,GAAP,CAAW,CAACC,KAAD,EAAQC,CAAR,KAAc;AACxB,UAAIA,CAAC,IAAI7B,IAAT,EAAe;AACb,eACE,oBAAC,SAAD;AACE,UAAA,GAAG,EAAE6B,CADP;AAEE,UAAA,WAAW,EAAE5C,IAAI,CAAC2C,KAAK,CAACE,WAAP,CAFnB;AAGE,UAAA,KAAK,EAAE,KAAK7B,KAAL,CAAW2B,KAAK,CAACG,aAAjB,CAHT;AAIE,UAAA,aAAa,EAAEH,KAAK,CAACG,aAJvB;AAKE,UAAA,YAAY,EAAE,KAAKpC,WALrB;AAME,UAAA,eAAe,EAAEV,IAAI,CAAC2C,KAAK,CAACI,eAAP,CANvB;AAOE,UAAA,cAAc,EAAE/C,IAAI,CAACgD,QAPvB;AAQE,UAAA,GAAG,EAAEL,KAAK,CAACM,GARb;AASE,UAAA,eAAe,EAAEN,KAAK,CAACO,eATzB;AAUE,UAAA,QAAQ,EAAEjC,QAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD;AACF,KAjBA,CAjBC,EAmCF;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGF,IAAI,GAAG,CAAP,GACC,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,WAFZ;AAGE,MAAA,OAAO,EAAE,MAAM,KAAKD,QAAL,EAHjB;AAIE,MAAA,OAAO,EAAC,WAJV;AAKE,MAAA,KAAK,EAAC,SALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOGd,IAAI,CAACmD,IAPR,CADD,GAWC,oBAAC,MAAD;AACE,MAAA,OAAO,EAAE,MAAM,KAAKrC,QAAL,EADjB;AAEE,MAAA,SAAS,EAAC,WAFZ;AAGE,MAAA,IAAI,EAAC,QAHP;AAIE,MAAA,OAAO,EAAC,WAJV;AAKE,MAAA,KAAK,EAAC,SALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOGd,IAAI,CAACoD,MAPR,CAZJ,CAnCE,CADN,CADA;AA+DD;;AArI6B;;AAwIhC,eAAerD,UAAU,CAACQ,OAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport { text } from \"../../text/text\";\nimport BackImg from \"../../images/back-arrow.svg\";\nimport { inputs } from \"./parts/inputs\";\nimport TextInput from \"./parts/TextInput\";\nimport Button from \"@material-ui/core/Button\";\nimport { API } from \"../../tools/keys\";\nimport axios from 'axios'\nimport ContactSuccess from \"./parts/ContactSuccess\";\n\nclass Contact extends Component {\n  constructor() {\n    super();\n    this.state = {\n      step: 0,\n      success:'Denis'\n    };\n  }\n\n  goBack = () => {};\n\n  updateState = (name, value) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  nextStep = () => {\n    const { step } = this.state;\n    this.setState({\n      validate: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        validate: false,\n      });\n      const errors = document.querySelectorAll(\".contact__input__error\");\n      if (errors.length === 0) {\n        if (step == inputs.length - 1) {\n          this.submitForm();\n        } else {\n          this.setState({\n            step: step + 1,\n          });\n        }\n      }\n    }, 50);\n  };\n\n  submitForm = () => {\n    const { name, email, message } = this.state;\n   \n      let body = {\n        name,\n        email,\n        message,\n      };\n      this.setState({\n        loading: true,\n      });\n      axios\n        .post(`${API}/portfolio/contact`, body)\n        .then((res) => {\n          const { result } = res.data;\n          this.setState({\n            success: result.name,\n            loading: false,\n          });\n        })\n        .catch((err) => {\n          this.setState({\n            error: `Error, sorry, please try again...`,\n            loading: false,\n          });\n        });\n    \n  };\n \n  render() {\n    const { step, validate, success } = this.state;\n    return (\n    <div className='contact'>\n          <form className=\"contact__form\">\n          {success ? <ContactSuccess\n          username = {success}\n          />  :''}\n        <button\n          className=\"go__back\"\n          onClick={() => this.goBack()}\n          type=\"button\"\n        >\n          <img src={BackImg} alt=\"\" />\n          {text.GO_BACK}\n        </button>\n        <h2>{text.GET_IN_TOUCH}</h2>\n        <p>\n          {`${text.CONTACT_P} `}\n          <a href=\"mailto:denis.b651@gmail.com\">denis.b651@gmail.com</a>\n        </p>\n        {inputs.map((input, i) => {\n          if (i <= step) {\n            return (\n              <TextInput\n                key={i}\n                placeholder={text[input.placeholder]}\n                value={this.state[input.property_name]}\n                property_name={input.property_name}\n                updateParent={this.updateState}\n                validation_text={text[input.validation_text]}\n                required_error={text.REQUIRED}\n                img={input.img}\n                validation_type={input.validation_type}\n                validate={validate}\n              />\n            );\n          }\n        })}\n        <div className=\"contact__submit__btns\">\n          {step < 2 ? (\n            <Button\n              type=\"button\"\n              className=\"form__btn\"\n              onClick={() => this.nextStep()}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              {text.NEXT}\n            </Button>\n          ) : (\n            <Button\n              onClick={() => this.nextStep()}\n              className=\"form__btn\"\n              type=\"button\"\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              {text.SUBMIT}\n            </Button>\n          )}\n        </div>\n      </form>\n    </div>\n    );\n  }\n}\n\nexport default withRouter(Contact);\n"]},"metadata":{},"sourceType":"module"}