{"ast":null,"code":"var _jsxFileName = \"/Users/denis/Desktop/projects/new-portolio/src/components/contact/Contact.jsx\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport { text } from \"../../text/text\";\nimport BackImg from \"../../images/back-arrow.svg\";\nimport { inputs } from \"./parts/inputs\";\nimport TextInput from \"./parts/TextInput\";\nimport Button from \"@material-ui/core/Button\";\nimport { API } from \"../../tools/keys\";\nimport axios from 'axios';\n\nclass Contact extends Component {\n  constructor() {\n    super();\n\n    this.goBack = () => {};\n\n    this.updateState = (name, value) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submitForm = () => {\n      const _this$state = this.state,\n            name = _this$state.name,\n            email = _this$state.email,\n            message = _this$state.message;\n      let body = {\n        name,\n        email,\n        message\n      };\n      this.setState({\n        loading: true\n      });\n      axios.post(\"\".concat(API, \"/portfolio/contact\"), body).then(res => {\n        const result = res.data.result;\n        setTimeout(() => {\n          this.setState({\n            submitted: \"Thanks \".concat(result.name, \", your message has been successfully received!\"),\n            loading: false\n          });\n        }, 1000);\n      }).catch(err => {\n        this.setState({\n          submitted: \"Error, sorry, please try again...\"\n        });\n        setTimeout(() => {\n          this.setState({\n            submitted: false,\n            loading: false\n          });\n          this.resetForm();\n        }, 4000);\n      });\n    };\n\n    this.nextStep = () => {\n      const step = this.state.step;\n      this.setState({\n        validate: true\n      });\n      setTimeout(() => {\n        this.setState({\n          validate: false\n        });\n        const errors = document.querySelectorAll(\".contact__input__error\");\n\n        if (errors.length === 0) {\n          if (step == inputs.length - 1) {\n            this.submitForm();\n          } else {\n            this.setState({\n              step: step + 1\n            });\n          }\n        }\n      }, 50);\n    };\n\n    this.state = {\n      step: 0\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          step = _this$state2.step,\n          validate = _this$state2.validate;\n    return React.createElement(\"form\", {\n      className: \"contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"go__back\",\n      onClick: () => this.goBack(),\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: BackImg,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), text.GO_BACK), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, text.GET_IN_TOUCH), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"\".concat(text.CONTACT_P, \" \"), React.createElement(\"a\", {\n      href: \"mailto:denis.b651@gmail.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"denis.b651@gmail.com\")), inputs.map((input, i) => {\n      if (i <= step) {\n        return React.createElement(TextInput, {\n          key: i,\n          placeholder: text[input.placeholder],\n          value: this.state[input.property_name],\n          property_name: input.property_name,\n          updateParent: this.updateState,\n          validation_text: text[input.validation_text],\n          required_error: text.REQUIRED,\n          img: input.img,\n          validation_type: input.validation_type,\n          validate: validate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        });\n      }\n    }), React.createElement(\"div\", {\n      className: \"contact__submit__btns\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, step < 2 ? React.createElement(Button, {\n      type: \"button\",\n      className: \"form__btn\",\n      onClick: () => this.nextStep(),\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, text.NEXT) : React.createElement(Button, {\n      onClick: () => this.nextStep(),\n      className: \"form__btn\",\n      type: \"button\",\n      variant: \"contained\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, text.SUBMIT)));\n  }\n\n}\n\nexport default withRouter(Contact);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/new-portolio/src/components/contact/Contact.jsx"],"names":["React","Component","withRouter","text","inputs","TextInput","Button","API","axios","Contact","constructor","goBack","updateState","name","value","setState","submitForm","state","email","message","body","loading","post","then","res","result","data","setTimeout","submitted","catch","err","resetForm","nextStep","step","validate","errors","document","querySelectorAll","length","render","BackImg","GO_BACK","GET_IN_TOUCH","CONTACT_P","map","input","i","placeholder","property_name","validation_text","REQUIRED","img","validation_type","NEXT","SUBMIT"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport { text } from \"../../text/text\";\nimport BackImg from \"../../images/back-arrow.svg\";\nimport { inputs } from \"./parts/inputs\";\nimport TextInput from \"./parts/TextInput\";\nimport Button from \"@material-ui/core/Button\";\nimport { API } from \"../../tools/keys\";\nimport axios from 'axios'\nclass Contact extends Component {\n  constructor() {\n    super();\n    this.state = {\n      step: 0,\n    };\n  }\n\n  goBack = () => {};\n\n  updateState = (name, value) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n\n  submitForm = () => {\n    const { name, email, message } = this.state;\n   \n      let body = {\n        name,\n        email,\n        message,\n      };\n      this.setState({\n        loading: true,\n      });\n      axios\n        .post(`${API}/portfolio/contact`, body)\n        .then((res) => {\n          const { result } = res.data;\n          setTimeout(() => {\n            this.setState({\n              submitted: `Thanks ${result.name}, your message has been successfully received!`,\n              loading: false,\n            });\n          }, 1000);\n        })\n        .catch((err) => {\n          this.setState({\n            submitted: `Error, sorry, please try again...`,\n          });\n          setTimeout(() => {\n            this.setState({\n              submitted: false,\n              loading: false,\n            });\n            this.resetForm();\n          }, 4000);\n        });\n    \n  };\n  nextStep = () => {\n    const { step } = this.state;\n    this.setState({\n      validate: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        validate: false,\n      });\n      const errors = document.querySelectorAll(\".contact__input__error\");\n      if (errors.length === 0) {\n        if (step == inputs.length - 1) {\n          this.submitForm();\n        } else {\n          this.setState({\n            step: step + 1,\n          });\n        }\n      }\n    }, 50);\n  };\n\n  render() {\n    const { step, validate } = this.state;\n    return (\n      <form className=\"contact\">\n        <button\n          className=\"go__back\"\n          onClick={() => this.goBack()}\n          type=\"button\"\n        >\n          <img src={BackImg} alt=\"\" />\n          {text.GO_BACK}\n        </button>\n        <h2>{text.GET_IN_TOUCH}</h2>\n        <p>\n          {`${text.CONTACT_P} `}\n          <a href=\"mailto:denis.b651@gmail.com\">denis.b651@gmail.com</a>\n        </p>\n        {inputs.map((input, i) => {\n          if (i <= step) {\n            return (\n              <TextInput\n                key={i}\n                placeholder={text[input.placeholder]}\n                value={this.state[input.property_name]}\n                property_name={input.property_name}\n                updateParent={this.updateState}\n                validation_text={text[input.validation_text]}\n                required_error={text.REQUIRED}\n                img={input.img}\n                validation_type={input.validation_type}\n                validate={validate}\n              />\n            );\n          }\n        })}\n        <div className=\"contact__submit__btns\">\n          {step < 2 ? (\n            <Button\n              type=\"button\"\n              className=\"form__btn\"\n              onClick={() => this.nextStep()}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              {text.NEXT}\n            </Button>\n          ) : (\n            <Button\n              onClick={() => this.nextStep()}\n              className=\"form__btn\"\n              type=\"button\"\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              {text.SUBMIT}\n            </Button>\n          )}\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(Contact);\n"]},"metadata":{},"sourceType":"module"}